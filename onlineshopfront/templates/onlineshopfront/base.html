{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>AuroraMart - {% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'onlineshopfront/css/styles.css' %}">
</head>

<body>
    <div class="header">
        <a href="{% url 'onlineshopfront:index' %}" class="logo-link">
            <img class="logo-img" src="{% static 'images/AuroraMartLogo.png' %}" alt="AuroraMart Logo">
        </a>

        <form method="get" action="{% url 'onlineshopfront:product_list' %}" class="search-form">
            <input name="q" type="search" placeholder="Search products, categories..."
                value="{{ request.GET.q|default:'' }}" />
            <button type="submit">Search</button>
        </form>

        <div class="cart-and-auth">
            <a class="cart-link" href="{% url 'onlineshopfront:view_cart' %}">
                <div class="cart">
                    ðŸ›’
                    {% if cart_count %}
                    <span class="cart-count">{{ cart_count }}</span>
                    {% endif %}
                </div>
            </a>

            <div class="auth-links">
                {% if request.user.is_authenticated %}
                <a class="auth-link" href="{% url 'onlineshopfront:logout' %}">Logout</a>
                {% else %}
                <a class="auth-link" href="{% url 'onlineshopfront:login' %}">Sign in</a>
                <a class="auth-link" href="{% url 'onlineshopfront:create_account' %}">Create account</a>
                {% endif %}
            </div>
        </div>
    </div>

    {# flash messages removed as requested (no site-wide notifications) #}

    <div class="category-nav">
        {% for cat in site_categories %}
        {% if cat.slug %}
        <a href="{% url 'onlineshopfront:product_list_by_category' cat.slug %}">{{ cat.category_name }}</a>
        {% else %}
        <a href="#">{{ cat.category_name }}</a>
        {% endif %}
        {% endfor %}
    </div>

    <div class="page-container">

        <div class="sidebar">
            <a href="{% url 'onlineshopfront:myOrder' %}">My orders</a>
            <a href="{% url 'onlineshopfront:myProfile' %}">My profile</a>
            <a href="{% url 'onlineshopfront:settings' %}">Settings</a>
        </div>

        <main class="content">
            {# Render notifications inside the main content area so they center within the page content #}
            {% include 'onlineshopfront/_notifications.html' %}

            {% block content %}
            {% endblock %}
        </main>
    </div>
</body>

</html>